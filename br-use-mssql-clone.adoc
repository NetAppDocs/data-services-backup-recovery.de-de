---
sidebar: sidebar 
permalink: br-use-mssql-clone.html 
keywords: backing up, restoring, back up, backup, clone, restore, cloud volumes ontap, aws, azure, s3, blob, google cloud, storagegrid, back up volumes, cloud backup, restore volumes, cost, on-premises ontap, onprem, applications, virtual machines, backup and recovery 
summary: Klonen Sie Microsoft SQL Server-Anwendungsdaten zu Entwicklungs-, Test- oder Schutzzwecken.  Sie können Klone aus sofortigen Snapshots oder vorhandenen Snapshots Ihrer Microsoft SQL Server-Workloads erstellen. 
---
= Klonen Sie Microsoft SQL Server-Workloads mit NetApp Backup und Recovery
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
Klonen Sie Microsoft SQL Server-Anwendungsdaten zu Entwicklungs-, Test- oder Schutzzwecken mit NetApp Backup and Recovery auf dieselbe oder eine andere VM.  Sie können Klone aus sofortigen Snapshots oder vorhandenen Snapshots Ihrer Microsoft SQL Server-Workloads erstellen.

Wählen Sie zwischen den folgenden Klontypen:

* *Sofortiger Snapshot und Klon*: Sie können aus einem sofortigen Snapshot einen Klon Ihrer Microsoft SQL Server-Workloads erstellen.  Ein sofortiger Snapshot ist eine zeitpunktbezogene Kopie der Quelldaten, die aus einer Sicherung erstellt wird.  Der Klon wird in einem Objektspeicher in Ihrem öffentlichen oder privaten Cloud-Konto gespeichert.  Sie können den Klon verwenden, um Ihre Workloads im Falle eines Datenverlusts oder einer Datenbeschädigung wiederherzustellen.
* *Klonen von einem vorhandenen Snapshot*: Sie können einen vorhandenen Snapshot aus einer Liste von Snapshots auswählen, die für die Arbeitslast verfügbar sind.  Diese Option ist nützlich, wenn Sie einen Klon von einem bestimmten Zeitpunkt erstellen möchten.  Klonen Sie entweder auf den primären oder sekundären Speicher.


Sie können die folgenden Schutzziele erreichen:

* Erstellen eines Klons
* Aktualisieren eines Klons
* Einen Klon teilen
* Löschen eines Klons


*Erforderliche NetApp -Konsolenrolle* Speicherbetrachter, Superadministrator für Backup und Wiederherstellung oder Backup-Administratorrolle für Backup und Wiederherstellung. https://docs.netapp.com/us-en/console-setup-admin/reference-iam-predefined-roles.html["Erfahren Sie mehr über die Zugriffsrollen der NetApp -Konsole für alle Dienste"^] .



== Erstellen eines Klons

Sie können einen Klon Ihrer Microsoft SQL Server-Workloads erstellen.  Ein Klon ist eine Kopie der Quelldaten, die aus einer Sicherung erstellt wird.  Der Klon wird in einem Objektspeicher in Ihrem öffentlichen oder privaten Cloud-Konto gespeichert.  Sie können den Klon verwenden, um Ihre Workloads im Falle eines Datenverlusts oder einer Datenbeschädigung wiederherzustellen.

Sie können einen Klon aus einem vorhandenen Snapshot oder aus einem sofortigen Snapshot erstellen.  Ein sofortiger Snapshot ist eine zeitpunktbezogene Kopie der Quelldaten, die aus einer Sicherung erstellt wird.  Sie können den Klon verwenden, um Ihre Workloads im Falle eines Datenverlusts oder einer Datenbeschädigung wiederherzustellen.

.Schritte
. Wählen Sie im NetApp Backup and Recovery-Menü *Klonen* aus.
. Wählen Sie *Neuen Klon erstellen*.
. Wählen Sie den Klontyp aus:
+
** *Klonen und Datenbankaktualisierung aus vorhandenem Snapshot*: Wählen Sie den Snapshot für den Klon und konfigurieren Sie Optionen für den Klon.  Dies ist hilfreich, wenn Sie den Snapshot für den Klon auswählen und Optionen konfigurieren möchten.
** *Sofortiger Snapshot und Klon*: Machen Sie jetzt einen Snapshot der Quelldaten und erstellen Sie aus diesem Snapshot einen Klon.  Diese Option ist nützlich, wenn Sie einen Klon aus den neuesten Daten im Quell-Workload erstellen möchten.


. Füllen Sie den Abschnitt *Datenbankquelle* aus:
+
** *Einzelner Klon oder Massenklon*: Wählen Sie aus, ob ein einzelner Klon oder mehrere Klone erstellt werden sollen.  Wenn Sie *Massenklon* auswählen, können Sie mithilfe einer bereits erstellten Schutzgruppe mehrere Klone gleichzeitig erstellen.  Diese Option ist nützlich, wenn Sie mehrere Klone für unterschiedliche Workloads erstellen möchten.
** *Host, Instanz und Name der Quelldatenbank*: Wählen Sie den Host, die Instanz und den Namen der Quelldatenbank für den Klon aus.  Die Quelldatenbank ist die Datenbank, aus der der Klon erstellt wird.


. Füllen Sie den Abschnitt *Datenbankziel* aus:
+
** *Zieldatenbankhost, -instanz und -name*: Wählen Sie den Zieldatenbankhost, die -instanz und den Namen für den Klon aus.  Die Zieldatenbank ist der Ort, an dem der Klon erstellt wird.
+
Wählen Sie optional *Suffix* aus der Dropdown-Liste „Zielname“ aus und hängen Sie ein Suffix an den Namen der geklonten Datenbank an.  Wenn Sie kein Suffix angeben, ist der Name der geklonten Datenbank derselbe wie der Name der Quelldatenbank.

** *QoS (maximaler Durchsatz)*: Wählen Sie den maximalen Quality of Service (QoS)-Durchsatz in MBps für den Klon.  Die QoS definiert die Leistungsmerkmale des Klons, beispielsweise den maximalen Durchsatz und die IOPS.


. Füllen Sie den Abschnitt *Mount* aus:
+
** *Einhängepunkt automatisch zuweisen*: Wählen Sie diese Option, um dem Klon automatisch einen Einhängepunkt zuzuweisen.  Der Einhängepunkt ist der Ort, an dem der Klon im Objektspeicher eingehängt wird.
** *Mountpoint-Pfad definieren*: Geben Sie einen Mountpoint für den Klon ein.  Der Einhängepunkt ist der Ort, an dem der Klon im Objektspeicher eingehängt wird.  Wählen Sie den Laufwerksbuchstaben aus, geben Sie den Datendateipfad ein und geben Sie den Protokolldateipfad ein.


. Wählen Sie *Weiter*.
. Wählen Sie den Wiederherstellungspunkt aus:
+
** *Vorhandene Snapshots*: Wählen Sie einen vorhandenen Snapshot aus der Liste der für die Arbeitslast verfügbaren Snapshots aus.  Diese Option ist nützlich, wenn Sie einen Klon von einem bestimmten Zeitpunkt erstellen möchten.
** *Sofortiger Snapshot und Klon*: Wählen Sie den neuesten Snapshot aus der Liste der Snapshots aus, die für die Arbeitslast verfügbar sind.  Diese Option ist nützlich, wenn Sie einen Klon aus den neuesten Daten im Ursprungs-Workload erstellen möchten.


. Wenn Sie sich für die Erstellung eines *Sofort-Snapshots und Klons* entschieden haben, wählen Sie den Speicherort für den Klon:
+
** *Lokaler Speicher*: Wählen Sie diese Option, um den Klon im lokalen Speicher des ONTAP -Systems zu erstellen.  Der lokale Speicher ist der Speicher, der direkt an das ONTAP -System angeschlossen ist.
** *Sekundärspeicher*: Wählen Sie diese Option, um den Klon im Sekundärspeicher des ONTAP -Systems zu erstellen.  Der sekundäre Speicher ist der Speicher, der für Sicherungs- und Wiederherstellungs-Workloads verwendet wird.


. Wählen Sie den Zielspeicherort für die Daten und Protokolle aus.
. Wählen Sie *Weiter*.
. Füllen Sie den Abschnitt *Erweiterte Optionen* aus.
. Wenn Sie *Sofortiger Snapshot und Klon* gewählt haben, führen Sie die folgenden Optionen aus:
+
** *Zeitplan und Ablauf der Klonaktualisierung*: Wenn Sie *Sofortklon* gewählt haben, geben Sie das Datum ein, an dem mit der Aktualisierung des Klons begonnen werden soll.  Der Klonzeitplan definiert, wann der Klon erstellt wird.
+
*** *Klon löschen, wenn Zeitplan abläuft*: Wenn Sie den Klon nach Ablauf des Klons löschen möchten.
*** *Klon aktualisieren alle*: Wählen Sie aus, wie oft der Klon aktualisiert werden soll.  Sie können den Klon stündlich, täglich, wöchentlich, monatlich oder vierteljährlich aktualisieren.  Diese Option ist nützlich, wenn Sie den Klon auf dem neuesten Stand mit dem Quell-Workload halten möchten.


** *Prescripts und Postscripts*: Geben Sie optional Pre- und Post-Clone-Skripte an, die vor und nach der Erstellung des Klons ausgeführt werden sollen.  Mit diesen Skripten können zusätzliche Aufgaben ausgeführt werden, beispielsweise das Konfigurieren des Klons oder das Senden von Benachrichtigungen.
** *Benachrichtigung*: Geben Sie optional E-Mail-Adressen an, um Benachrichtigungen über den Status der Klonerstellung zusammen mit dem Jobbericht zu erhalten.  Sie können auch eine Webhook-URL angeben, um Benachrichtigungen über den Status der Klonerstellung zu erhalten.  Sie können angeben, ob Sie Erfolgs- und Fehlerbenachrichtigungen oder nur die eine oder die andere erhalten möchten.
** *Tags*: Wählen Sie ein oder mehrere Labels aus, die Ihnen später bei der Suche nach der Ressourcengruppe helfen, und wählen Sie *Übernehmen*.  Wenn Sie beispielsweise „HR“ als Tag zu mehreren Ressourcengruppen hinzufügen, können Sie später alle mit dem HR-Tag verknüpften Ressourcengruppen finden.


. Wählen Sie *Erstellen*.
. Wenn der Klon erstellt ist, können Sie ihn auf der Seite *Inventar* anzeigen.




== Aktualisieren eines Klons

Sie können einen Klon Ihrer Microsoft SQL Server-Workloads aktualisieren.  Durch das Aktualisieren eines Klons wird der Klon mit den neuesten Daten aus dem Quell-Workload aktualisiert.  Dies ist nützlich, wenn Sie den Klon auf dem neuesten Stand der Quell-Workload halten möchten.

Sie haben die Möglichkeit, den Datenbanknamen zu ändern, den neuesten Sofort-Snapshot zu verwenden oder von einem vorhandenen Produktions-Snapshot zu aktualisieren.

.Schritte
. Wählen Sie im NetApp Backup and Recovery-Menü *Klonen* aus.
. Wählen Sie den Klon aus, den Sie aktualisieren möchten.
. Wählen Sie das Symbol Aktionenimage:../media/icon-action.png["Aktionsoption"] > *Klon aktualisieren*.
. Füllen Sie den Abschnitt *Erweiterte Einstellungen* aus:
+
** *Wiederherstellungsbereich*: Wählen Sie, ob alle Protokollsicherungen oder Protokollsicherungen bis zu einem bestimmten Zeitpunkt wiederhergestellt werden sollen.  Diese Option ist nützlich, wenn Sie den Klon zu einem bestimmten Zeitpunkt wiederherstellen möchten.
** *Zeitplan und Ablauf der Klonaktualisierung*: Wenn Sie *Sofortklon* gewählt haben, geben Sie das Datum ein, an dem mit der Aktualisierung des Klons begonnen werden soll.  Der Klonzeitplan definiert, wann der Klon erstellt wird.
+
*** *Klon löschen, wenn Zeitplan abläuft*: Wenn Sie den Klon nach Ablauf des Klons löschen möchten.
*** *Klon aktualisieren alle*: Wählen Sie aus, wie oft der Klon aktualisiert werden soll.  Sie können den Klon stündlich, täglich, wöchentlich, monatlich oder vierteljährlich aktualisieren.  Diese Option ist nützlich, wenn Sie den Klon auf dem neuesten Stand mit dem Quell-Workload halten möchten.


** *iGroup-Einstellungen*: Wählen Sie die iGroup für den Klon aus.  Die Igroup ist eine logische Gruppierung von Initiatoren, die für den Zugriff auf den Klon verwendet werden.  Sie können eine vorhandene igroup auswählen oder eine neue erstellen.  Wählen Sie die igroup aus dem primären oder sekundären ONTAP Speichersystem aus.
** *Prescripts und Postscripts*: Geben Sie optional Pre- und Post-Clone-Skripte an, die vor und nach der Erstellung des Klons ausgeführt werden sollen.  Mit diesen Skripten können zusätzliche Aufgaben ausgeführt werden, beispielsweise das Konfigurieren des Klons oder das Senden von Benachrichtigungen.
** *Benachrichtigung*: Geben Sie optional E-Mail-Adressen an, um Benachrichtigungen über den Status der Klonerstellung zusammen mit dem Jobbericht zu erhalten.  Sie können auch eine Webhook-URL angeben, um Benachrichtigungen über den Status der Klonerstellung zu erhalten.  Sie können angeben, ob Sie Erfolgs- und Fehlerbenachrichtigungen oder nur die eine oder die andere erhalten möchten.
** *Tags*: Geben Sie ein oder mehrere Labels ein, die Ihnen später bei der Suche nach der Ressourcengruppe helfen.  Wenn Sie beispielsweise „HR“ als Tag zu mehreren Ressourcengruppen hinzufügen, können Sie später alle mit dem HR-Tag verknüpften Ressourcengruppen finden.


. Wählen Sie im Bestätigungsdialogfeld „Aktualisieren“ die Option „*Aktualisieren*“ aus, um fortzufahren.




== Überspringen einer Klonaktualisierung

Sie können die Aktualisierung eines Klons überspringen, wenn Sie den Klon nicht mit den neuesten Daten aus dem Ursprungs-Workload aktualisieren möchten.  Durch Überspringen einer Klonaktualisierung können Sie den Klon so belassen, wie er ist, ohne ihn zu aktualisieren.

.Schritte
. Wählen Sie im NetApp Backup and Recovery-Menü *Klonen* aus.
. Wählen Sie den Klon aus, für den Sie die Aktualisierung überspringen möchten.
. Wählen Sie das Symbol Aktionenimage:../media/icon-action.png["Aktionsoption"] > *Aktualisierung überspringen*.
. Führen Sie im Dialogfeld „Bestätigung für Aktualisierung überspringen“ die folgenden Schritte aus:
+
.. Um nur den nächsten Aktualisierungsplan zu überspringen, wählen Sie *Nur den nächsten Aktualisierungsplan überspringen*.
.. Um fortzufahren, wählen Sie *Überspringen*.






== Einen Klon teilen

Sie können einen Klon Ihrer Microsoft SQL Server-Workloads aufteilen.  Durch das Aufteilen eines Klons wird aus dem Klon ein neues Backup erstellt.  Mit dem neuen Backup können die Workloads wiederhergestellt werden.

Sie können einen Klon in unabhängige oder langfristige Klone aufteilen.  Ein Assistent zeigt die Liste der Aggregate an, die Teil der SVM sind, ihre Größen und wo sich das geklonte Volume befindet.  NetApp Backup and Recovery zeigt außerdem an, ob genügend Speicherplatz zum Aufteilen des Klons vorhanden ist.  Nachdem der Klon aufgeteilt wurde, wird er zum Schutz zu einer unabhängigen Datenbank.

Der Klonauftrag wird nicht entfernt und kann für andere Klone erneut verwendet werden.

.Schritte
. Wählen Sie im NetApp Backup and Recovery-Menü *Klonen* aus.
. Wählen Sie einen Klon aus.
. Wählen Sie das Symbol Aktionenimage:../media/icon-action.png["Aktionsoption"] > *Geteilter Klon*.
. Überprüfen Sie die Details zum geteilten Klon und wählen Sie *Teilen*.
. Wenn der geteilte Klon erstellt ist, können Sie ihn auf der Seite *Inventar* anzeigen.




== Löschen eines Klons

Sie können einen Klon Ihrer Microsoft SQL Server-Workloads löschen.  Durch das Löschen eines Klons wird der Klon aus dem Objektspeicher entfernt und Speicherplatz freigegeben.

Wenn der Klon durch eine Richtlinie geschützt ist, wird der Klon einschließlich des Auftrags gelöscht.

.Schritte
. Wählen Sie im NetApp Backup and Recovery-Menü *Klonen* aus.
. Wählen Sie einen Klon aus.
. Wählen Sie das Symbol Aktionenimage:../media/icon-action.png["Aktionsoption"] > *Klon löschen*.
. Überprüfen Sie im Bestätigungsdialogfeld zum Löschen des Klons die Löschdetails.
+
.. Um die geklonten Ressourcen aus SnapCenter zu löschen, auch wenn auf die Klone oder ihren Speicher nicht zugegriffen werden kann, wählen Sie *Löschen erzwingen*.
.. Wählen Sie *Löschen*.


. Wenn der Klon gelöscht wird, wird er von der Seite *Inventar* entfernt.

